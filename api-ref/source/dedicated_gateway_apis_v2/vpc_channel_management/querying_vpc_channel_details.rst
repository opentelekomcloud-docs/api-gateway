:original_name: ShowDetailsOfVpcChannelV2.html

.. _ShowDetailsOfVpcChannelV2:

Querying VPC Channel Details
============================

Function
--------

This API is used to query the details of a VPC channel.

URI
---

GET /v2/{project_id}/apigw/instances/{instance_id}/vpc-channels/{vpc_channel_id}

.. table:: **Table 1** Path Parameters

   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------+
   | Parameter      | Mandatory | Type   | Description                                                                                                           |
   +================+===========+========+=======================================================================================================================+
   | project_id     | Yes       | String | Project ID. For details about how to obtain a project ID, see "Appendix" > "Obtaining a Project ID" in this document. |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------+
   | instance_id    | Yes       | String | Gateway ID, which can be obtained from the gateway information on the APIG console.                                   |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------+
   | vpc_channel_id | Yes       | String | VPC channel ID.                                                                                                       |
   +----------------+-----------+--------+-----------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   +--------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                                                                                        |
   +==============+===========+========+====================================================================================================================================================+
   | X-Auth-Token | Yes       | String | User token. It can be obtained by calling the IAM API used to obtain a user token. The value of X-Subject-Token in the response header is a token. |
   +--------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                          | Description                                                                                                                    |
   +=======================+===============================================================================================+================================================================================================================================+
   | name                  | String                                                                                        | VPC channel name.                                                                                                              |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | It can contain 3 to 64 characters, starting with a letter. Only letters, digits, hyphens (-), and underscores (_) are allowed. |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | port                  | Integer                                                                                       | Host port of the VPC channel.                                                                                                  |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Range: 1-65535.                                                                                                                |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | balance_strategy      | Integer                                                                                       | Distribution algorithm.                                                                                                        |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  1: Weighted round robin (WRR).                                                                                              |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  2: Weighted least connections (WLC).                                                                                        |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  3: Source hashing.                                                                                                          |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  4: URI hashing.                                                                                                             |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Default: **1**                                                                                                                 |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Enumeration values:                                                                                                            |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **1**                                                                                                                       |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **2**                                                                                                                       |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **3**                                                                                                                       |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **4**                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | member_type           | String                                                                                        | Member type of the VPC channel.                                                                                                |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  ip                                                                                                                          |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  ecs                                                                                                                         |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Default: **ecs**                                                                                                               |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Enumeration values:                                                                                                            |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **ip**                                                                                                                      |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **ecs**                                                                                                                     |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | type                  | Integer                                                                                       | VPC channel type. The default type is server.                                                                                  |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  2: Server type.                                                                                                             |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  3: Microservice type.                                                                                                       |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Default: **2**                                                                                                                 |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Enumeration values:                                                                                                            |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **2**                                                                                                                       |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **3**                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | dict_code             | String                                                                                        | Dictionary code of the VPC channel.                                                                                            |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | The value can contain letters, digits, hyphens (-), underscores (_), and periods (.).                                          |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | This parameter is currently not supported.                                                                                     |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Minimum: **3**                                                                                                                 |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Maximum: **64**                                                                                                                |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | create_time           | String                                                                                        | Time when the VPC channel is created.                                                                                          |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                                                        | VPC channel ID.                                                                                                                |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | status                | Integer                                                                                       | VPC channel status.                                                                                                            |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  1: normal                                                                                                                   |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  2: abnormal                                                                                                                 |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | Enumeration values:                                                                                                            |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **1**                                                                                                                       |
   |                       |                                                                                               |                                                                                                                                |
   |                       |                                                                                               | -  **2**                                                                                                                       |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | member_groups         | Array of :ref:`MemberGroupInfo <showdetailsofvpcchannelv2__response_membergroupinfo>` objects | Backend server groups.                                                                                                         |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | microservice_info     | :ref:`MicroServiceInfo <showdetailsofvpcchannelv2__response_microserviceinfo>` object         | Microservice information.                                                                                                      |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | members               | Array of :ref:`VpcMemberInfo <showdetailsofvpcchannelv2__response_vpcmemberinfo>` objects     | Backend instances.                                                                                                             |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+
   | vpc_health_config     | :ref:`VpcHealthConfigInfo <showdetailsofvpcchannelv2__response_vpchealthconfiginfo>` object   | Health check details.                                                                                                          |
   +-----------------------+-----------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------+

.. _showdetailsofvpcchannelv2__response_membergroupinfo:

.. table:: **Table 4** MemberGroupInfo

   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                              | Description                                                                                                                                                                                                                             |
   +=======================+===================================================================================================+=========================================================================================================================================================================================================================================+
   | member_group_name     | String                                                                                            | Name of the backend server group of the VPC channel.                                                                                                                                                                                    |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | member_group_remark   | String                                                                                            | Description of the backend server group.                                                                                                                                                                                                |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | member_group_weight   | Integer                                                                                           | Weight of the backend server group.                                                                                                                                                                                                     |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | If the server group contains servers and a weight has been set for it, the weight is automatically used to assign weights to servers in this group.                                                                                     |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Minimum: **0**                                                                                                                                                                                                                          |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Maximum: **100**                                                                                                                                                                                                                        |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dict_code             | String                                                                                            | Dictionary code of the backend server group.                                                                                                                                                                                            |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | The value can contain letters, digits, hyphens (-), underscores (_), and periods (.).                                                                                                                                                   |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Currently, this parameter is not supported.                                                                                                                                                                                             |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Minimum: **3**                                                                                                                                                                                                                          |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Maximum: **64**                                                                                                                                                                                                                         |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | microservice_version  | String                                                                                            | Version of the backend server group. This parameter is supported only when the VPC channel type is microservice.                                                                                                                        |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Maximum: **64**                                                                                                                                                                                                                         |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | microservice_port     | Integer                                                                                           | Port of the backend server group. This parameter is supported only when the VPC channel type is microservice. If the port number is 0, all addresses in the backend server group use the original load balancing port to inherit logic. |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Minimum: **0**                                                                                                                                                                                                                          |
   |                       |                                                                                                   |                                                                                                                                                                                                                                         |
   |                       |                                                                                                   | Maximum: **65535**                                                                                                                                                                                                                      |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | microservice_labels   | Array of :ref:`MicroserviceLabel <showdetailsofvpcchannelv2__response_microservicelabel>` objects | Tags of the backend server group. This parameter is supported only when the VPC channel type is microservice.                                                                                                                           |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | member_group_id       | String                                                                                            | ID of the backend server group of the VPC channel.                                                                                                                                                                                      |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | create_time           | String                                                                                            | Time when the backend server group is created.                                                                                                                                                                                          |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | update_time           | String                                                                                            | Time when the backend server group is updated.                                                                                                                                                                                          |
   +-----------------------+---------------------------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _showdetailsofvpcchannelv2__response_microservicelabel:

.. table:: **Table 5** MicroserviceLabel

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                          |
   +=======================+=======================+======================================================================================================================================+
   | label_name            | String                | Tag name.                                                                                                                            |
   |                       |                       |                                                                                                                                      |
   |                       |                       | Start and end with a letter or digit. Use only letters, digits, hyphens (-), underscores (_), and periods (.). (Max. 63 characters.) |
   |                       |                       |                                                                                                                                      |
   |                       |                       | Minimum: **1**                                                                                                                       |
   |                       |                       |                                                                                                                                      |
   |                       |                       | Maximum: **63**                                                                                                                      |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+
   | label_value           | String                | Tag value.                                                                                                                           |
   |                       |                       |                                                                                                                                      |
   |                       |                       | Start and end with a letter or digit. Use only letters, digits, hyphens (-), underscores (_), and periods (.). (Max. 63 characters.) |
   |                       |                       |                                                                                                                                      |
   |                       |                       | Minimum: **1**                                                                                                                       |
   |                       |                       |                                                                                                                                      |
   |                       |                       | Maximum: **63**                                                                                                                      |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------+

.. _showdetailsofvpcchannelv2__response_microserviceinfo:

.. table:: **Table 6** MicroServiceInfo

   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | Parameter             | Type                                                                                        | Description                                   |
   +=======================+=============================================================================================+===============================================+
   | id                    | String                                                                                      | Microservice ID.                              |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | instance_id           | String                                                                                      | Gateway ID.                                   |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | service_type          | String                                                                                      | Microservice type.                            |
   |                       |                                                                                             |                                               |
   |                       |                                                                                             | -  CSE: CSE microservice registration center. |
   |                       |                                                                                             |                                               |
   |                       |                                                                                             | -  CCE: Cloud Container Engine (CCE).         |
   |                       |                                                                                             |                                               |
   |                       |                                                                                             | Enumeration values:                           |
   |                       |                                                                                             |                                               |
   |                       |                                                                                             | -  **CSE**                                    |
   |                       |                                                                                             |                                               |
   |                       |                                                                                             | -  **CCE**                                    |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | cse_info              | :ref:`MicroServiceInfoCSE <showdetailsofvpcchannelv2__response_microserviceinfocse>` object | CSE microservice details.                     |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | cce_info              | :ref:`MicroServiceInfoCCE <showdetailsofvpcchannelv2__response_microserviceinfocce>` object | CCE microservice details.                     |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | update_time           | String                                                                                      | Microservice update time.                     |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+
   | create_time           | String                                                                                      | Microservice creation time.                   |
   +-----------------------+---------------------------------------------------------------------------------------------+-----------------------------------------------+

.. _showdetailsofvpcchannelv2__response_microserviceinfocse:

.. table:: **Table 7** MicroServiceInfoCSE

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                 |
   +=======================+=======================+=============================================================================================================+
   | engine_id             | String                | Microservice engine ID.                                                                                     |
   |                       |                       |                                                                                                             |
   |                       |                       | Maximum: **64**                                                                                             |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | service_id            | String                | Microservice ID.                                                                                            |
   |                       |                       |                                                                                                             |
   |                       |                       | Maximum: **64**                                                                                             |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | engine_name           | String                | Microservice engine name.                                                                                   |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | service_name          | String                | Microservice name.                                                                                          |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | register_address      | String                | Registration center address.                                                                                |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | cse_app_id            | String                | App to which the microservice belongs.                                                                      |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+
   | version               | String                | Microservice version, which has been discarded and is reflected in the version of the backend server group. |
   |                       |                       |                                                                                                             |
   |                       |                       | Maximum: **64**                                                                                             |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------+

.. _showdetailsofvpcchannelv2__response_microserviceinfocce:

.. table:: **Table 8** MicroServiceInfoCCE

   +-----------------------+-----------------------+-----------------------+
   | Parameter             | Type                  | Description           |
   +=======================+=======================+=======================+
   | cluster_id            | String                | CCE cluster ID.       |
   |                       |                       |                       |
   |                       |                       | Maximum: **64**       |
   +-----------------------+-----------------------+-----------------------+
   | namespace             | String                | Namespace.            |
   |                       |                       |                       |
   |                       |                       | Maximum: **64**       |
   +-----------------------+-----------------------+-----------------------+
   | workload_type         | String                | Workload type.        |
   |                       |                       |                       |
   |                       |                       | -  deployment         |
   |                       |                       |                       |
   |                       |                       | -  statefulset        |
   |                       |                       |                       |
   |                       |                       | -  daemonset          |
   |                       |                       |                       |
   |                       |                       | Enumeration values:   |
   |                       |                       |                       |
   |                       |                       | -  **deployment**     |
   |                       |                       |                       |
   |                       |                       | -  **statefulset**    |
   |                       |                       |                       |
   |                       |                       | -  **daemonset**      |
   +-----------------------+-----------------------+-----------------------+
   | app_name              | String                | App name.             |
   |                       |                       |                       |
   |                       |                       | Maximum: **64**       |
   +-----------------------+-----------------------+-----------------------+
   | cluster_name          | String                | CCE cluster name.     |
   +-----------------------+-----------------------+-----------------------+

.. _showdetailsofvpcchannelv2__response_vpcmemberinfo:

.. table:: **Table 9** VpcMemberInfo

   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                         |
   +=======================+=======================+=====================================================================================================================================================================================+
   | host                  | String                | Backend server address.                                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | This parameter is required when the member type is IP address.                                                                                                                      |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Maximum: **64**                                                                                                                                                                     |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | weight                | Integer               | Weight.                                                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | The higher the weight is, the more requests a backend service will receive.                                                                                                         |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Minimum: **0**                                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Maximum: **10000**                                                                                                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_backup             | Boolean               | Indicates whether the backend service is a standby node.                                                                                                                            |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | After you enable this function, the backend service serves as a standby node. It works only when all non-standby nodes are faulty.                                                  |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | This function is supported only when your gateway has been upgraded to the corresponding version. If your gateway does not support this function, contact technical support.        |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Default: **false**                                                                                                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | member_group_name     | String                | Backend server group name. The server group facilitates backend service address modification.                                                                                       |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | Integer               | Backend server status.                                                                                                                                                              |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | -  1: available                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | -  2: unavailable                                                                                                                                                                   |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Enumeration values:                                                                                                                                                                 |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | -  **1**                                                                                                                                                                            |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | -  **2**                                                                                                                                                                            |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | port                  | Integer               | Backend server port.                                                                                                                                                                |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Minimum: **0**                                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Maximum: **65535**                                                                                                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ecs_id                | String                | Backend server ID.                                                                                                                                                                  |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | This parameter is required if the backend instance type is ecs. The value can contain 1 to 64 characters, including letters, digits, hyphens (-), and underscores (_).              |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Maximum: **255**                                                                                                                                                                    |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ecs_name              | String                | Backend server name.                                                                                                                                                                |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | This parameter is required if the backend instance type is ecs. The value can contain 1 to 64 characters, including letters, digits, hyphens (-), underscores (_), and periods (.). |
   |                       |                       |                                                                                                                                                                                     |
   |                       |                       | Maximum: **64**                                                                                                                                                                     |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                | Backend server ID.                                                                                                                                                                  |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpc_channel_id        | String                | VPC channel ID.                                                                                                                                                                     |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | create_time           | String                | Time when the backend server is added to the VPC channel.                                                                                                                           |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | member_group_id       | String                | Backend server group ID.                                                                                                                                                            |
   +-----------------------+-----------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _showdetailsofvpcchannelv2__response_vpchealthconfiginfo:

.. table:: **Table 10** VpcHealthConfigInfo

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                             |
   +=======================+=======================+=========================================================================================================================================================================================+
   | protocol              | String                | Protocol for performing health checks on backend servers in the VPC channel.                                                                                                            |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  TCP                                                                                                                                                                                  |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  HTTP                                                                                                                                                                                 |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  HTTPS                                                                                                                                                                                |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Enumeration values:                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **TCP**                                                                                                                                                                              |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **HTTP**                                                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **HTTPS**                                                                                                                                                                            |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | path                  | String                | Destination path for health checks. This parameter is required if protocol is set to http or https.                                                                                     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | method                | String                | Request method for health checks.                                                                                                                                                       |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Default: **GET**                                                                                                                                                                        |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Enumeration values:                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **GET**                                                                                                                                                                              |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **HEAD**                                                                                                                                                                             |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | port                  | Integer               | Destination port for health checks. If this parameter is not specified or set to 0, the host port of the VPC channel is used.                                                           |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | If this parameter is set to a non-zero value, the corresponding port is used for health checks.                                                                                         |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Minimum: **0**                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Maximum: **65535**                                                                                                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | threshold_normal      | Integer               | Healthy threshold. It refers to the number of consecutive successful checks required for a backend server to be considered healthy.                                                     |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Minimum: **2**                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Maximum: **10**                                                                                                                                                                         |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | threshold_abnormal    | Integer               | Unhealthy threshold, which refers to the number of consecutive failed checks required for a backend server to be considered unhealthy.                                                  |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Minimum: **2**                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Maximum: **10**                                                                                                                                                                         |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | time_interval         | Integer               | Interval between consecutive checks. Unit: s. The value must be greater than the value of timeout.                                                                                      |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Minimum: **5**                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Maximum: **300**                                                                                                                                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | http_code             | String                | Response codes for determining a successful HTTP response. The value can be any integer within 100-599 in one of the following formats:                                                 |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  Multiple values, for example, 200,201,202                                                                                                                                            |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  Range, for example, 200-299                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  Multiple values and ranges, for example, 201,202,210-299. This parameter is required if protocol is set to http.                                                                     |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enable_client_ssl     | Boolean               | Indicates whether to enable two-way authentication. If this function is enabled, the certificate specified in the backend_client_certificate configuration item of the gateway is used. |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Default: **false**                                                                                                                                                                      |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | Integer               | Health check result.                                                                                                                                                                    |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  1: available                                                                                                                                                                         |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  2: unavailable                                                                                                                                                                       |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Enumeration values:                                                                                                                                                                     |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **1**                                                                                                                                                                                |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **2**                                                                                                                                                                                |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | timeout               | Integer               | Timeout for determining whether a health check fails. Unit: s. The value must be less than the value of time_interval.                                                                  |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Minimum: **2**                                                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | Maximum: **30**                                                                                                                                                                         |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vpc_channel_id        | String                | VPC channel ID.                                                                                                                                                                         |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                | Health check ID.                                                                                                                                                                        |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | create_time           | String                | Creation time.                                                                                                                                                                          |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Status code: 400**

.. table:: **Table 11** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 401**

.. table:: **Table 12** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 403**

.. table:: **Table 13** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 404**

.. table:: **Table 14** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

**Status code: 500**

.. table:: **Table 15** Response body parameters

   ========== ====== ==============
   Parameter  Type   Description
   ========== ====== ==============
   error_code String Error code.
   error_msg  String Error message.
   ========== ====== ==============

Example Requests
----------------

None

Example Responses
-----------------

**Status code: 200**

OK

-  Example 1

   .. code-block::

      {
        "name" : "VPC_demo",
        "port" : 22,
        "balance_strategy" : 1,
        "member_type" : "ip",
        "dict_code" : "",
        "create_time" : "2020-07-23T07:11:57.244829604Z",
        "id" : "56a7d7358e1b42459c9d730d65b14e59",
        "status" : 1,
        "member_groups" : [ ],
        "type" : 2,
        "members" : [ {
          "host" : "192.168.0.5",
          "weight" : 1,
          "is_backup" : false,
          "member_group_name" : "",
          "status" : 1,
          "port" : 22,
          "ecs_id" : "192.168.0.5",
          "ecs_name" : "192.168.0.5",
          "id" : "be63c6260a1043888187f84af39c9f0e",
          "vpc_channel_id" : "56a7d7358e1b42459c9d730d65b14e59",
          "create_time" : "2020-07-23T07:11:57Z",
          "member_group_id" : ""
        }, {
          "host" : "192.168.1.124",
          "weight" : 2,
          "is_backup" : false,
          "member_group_name" : "",
          "status" : 1,
          "port" : 22,
          "ecs_id" : "192.168.1.124",
          "ecs_name" : "192.168.1.124",
          "id" : "a57b13f1b89b417ca8acd76909e6df67",
          "vpc_channel_id" : "56a7d7358e1b42459c9d730d65b14e59",
          "create_time" : "2020-07-23T07:11:57Z",
          "member_group_id" : ""
        } ],
        "vpc_health_config" : {
          "protocol" : "http",
          "path" : "/vpc/demo",
          "method" : "GET",
          "port" : 22,
          "threshold_normal" : 2,
          "threshold_abnormal" : 5,
          "time_interval" : 10,
          "http_code" : "200",
          "enable_client_ssl" : false,
          "status" : 1,
          "timeout" : 5,
          "vpc_channel_id" : "56a7d7358e1b42459c9d730d65b14e59",
          "id" : "3b3d02026c5f402d85e8645ea95b0816",
          "create_time" : "2020-07-23T07:11:57Z"
        },
        "microservice_info" : {
          "id" : "",
          "instance_id" : "",
          "service_type" : "",
          "cse_info" : {
            "cse_app_id" : "",
            "engine_id" : "",
            "engine_name" : "",
            "register_address" : "",
            "service_id" : "",
            "service_name" : ""
          },
          "cce_info" : {
            "cluster_id" : "",
            "cluster_name" : "",
            "namespace" : "",
            "workload_type" : "",
            "app_name" : ""
          },
          "create_time" : "",
          "update_time" : ""
        }
      }

-  Example 2

   .. code-block::

      {
        "name" : "VPC_demo",
        "id" : "105c6902457144a4820dff8b1ad63331",
        "balance_strategy" : 1,
        "dict_code" : "",
        "create_time" : "2020-07-23T07:11:57.244829604Z",
        "member_type" : "ip",
        "port" : 22,
        "status" : 1,
        "member_groups" : [ {
          "member_group_id" : "c1ce135c705c4066853a0460b318fe16",
          "member_group_name" : "test",
          "member_group_weight" : 1,
          "member_group_remark" : "remark",
          "create_time" : "2020-07-23T07:11:57.244829604Z",
          "update_time" : "2020-07-23T07:11:57.244829604Z",
          "microservice_version" : "v1",
          "microservice_port" : 80
        }, {
          "member_group_id" : "c1ce135c705c4066853a0460b318fe17",
          "member_group_name" : "default",
          "member_group_weight" : 2,
          "member_group_remark" : "remark",
          "create_time" : "2020-07-23T07:11:57.244829604Z",
          "update_time" : "2020-07-23T07:11:57.244829604Z",
          "microservice_version" : "v2",
          "microservice_port" : 80
        } ],
        "type" : 3,
        "vpc_health_config" : {
          "protocol" : "http",
          "path" : "/vpc/demo",
          "method" : "GET",
          "port" : 22,
          "threshold_normal" : 2,
          "threshold_abnormal" : 5,
          "time_interval" : 10,
          "http_code" : "200",
          "enable_client_ssl" : false,
          "status" : 1,
          "timeout" : 5,
          "vpc_channel_id" : "56a7d7358e1b42459c9d730d65b14e59",
          "id" : "3b3d02026c5f402d85e8645ea95b0816",
          "create_time" : "2020-07-23T07:11:57Z"
        },
        "microservice_info" : {
          "id" : "9483afa235be45158a70c19ab817ac65",
          "instance_id" : "eddc4d25480b4cd6b512f270a1b8b341",
          "service_type" : "CCE",
          "cse_info" : {
            "cse_app_id" : "",
            "engine_id" : "",
            "engine_name" : "",
            "register_address" : "",
            "service_id" : "",
            "service_name" : ""
          },
          "cce_info" : {
            "cluster_id" : "ab1485b4f91b45abbcd560be591f7309",
            "cluster_name" : "cce-test",
            "namespace" : "default",
            "workload_type" : "deployment",
            "app_name" : "testapp"
          },
          "create_time" : "2020-07-23T07:11:57.244829604Z",
          "update_time" : "2020-07-23T07:11:57.244829604Z"
        }
      }

**Status code: 400**

Bad Request

.. code-block::

   {
     "error_code" : "APIG.2012",
     "error_msg" : "Invalid parameter value,parameterName:id. Please refer to the support documentation"
   }

**Status code: 401**

Unauthorized

.. code-block::

   {
     "error_code" : "APIG.1002",
     "error_msg" : "Incorrect token or token resolution failed"
   }

**Status code: 403**

Forbidden

.. code-block::

   {
     "error_code" : "APIG.1005",
     "error_msg" : "No permissions to request this method"
   }

**Status code: 404**

Not Found

.. code-block::

   {
     "error_code" : "APIG.3023",
     "error_msg" : "The VPC channel does not exist,id:56a7d7358e1b42459c9d730d65b14e59"
   }

**Status code: 500**

Internal Server Error

.. code-block::

   {
     "error_code" : "APIG.9999",
     "error_msg" : "System error"
   }

Status Codes
------------

=========== =====================
Status Code Description
=========== =====================
200         OK
400         Bad Request
401         Unauthorized
403         Forbidden
404         Not Found
500         Internal Server Error
=========== =====================

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
